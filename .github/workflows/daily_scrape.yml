name: Daily LinkedIn Scraper

# Kab chalna chahiye?
on:
  push:                # Jab bhi tum code push karo (Testing ke liye)
  workflow_dispatch:   # Manually button daba kar chalane ke liye
  # schedule:          # (Optional) Rozana subah 9 baje
  #   - cron: '0 4 * * *'  # UTC time (Pakistan time +5 hota hai)

jobs:
  scrape-and-save:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout Code
        uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'

      - name: Install Libraries
        run: |
          pip install -r requirements.txt

      - name: Run Scraper Bot
        run: python bot.py

      - name: Upload Results (CSV)
        uses: actions/upload-artifact@v4
        with:
          name: linkedin-leads
          path: linkedin_profiles.csv
          retention-days: 5